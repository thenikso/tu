<html lang="en">
  <head>
    <title>Tu</title>
  </head>
  <body>
    Check console for test results
    <script type="text/tu">
      "Tests" println

      // My first actual usage!
      d := Document createElement("div")
      Document body appendChild(d)
      d innerText = "hey"
      l := method(e, writeln(e))
      d addEventListener("click", getSlot("l") toJs)
      // TODO fix `toJs` or make `method`s compatible with js
    </script>
    <script type="module" src="./test/index.js"></script>
    <script type="module">
      import { createEnvironment } from './index.mjs';

      const env = createEnvironment();
      globalThis.Lobby = env.Lobby;
      globalThis.tu = env.tu;

      // How scripts could be run
      const scripts = document.querySelectorAll('script[type="text/tu"]');
      for (const script of scripts) {
        env.run(script.textContent);
      }
    </script>
  </body>
</html>
